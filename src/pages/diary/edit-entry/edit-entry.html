<ion-header>
  <ion-navbar color="primary">
    <ion-buttons start>
      <button ion-button (click)="dismiss()">Close</button>
    </ion-buttons>
    <ion-title>Diary Entry</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="editEntryForm" (ngSubmit)="editEntry()">
    <ion-item>
      <ion-label>Title</ion-label>
      <ion-input type="text" formControlName="title" autofocus> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Description</ion-label>
      <ion-textarea formControlName="description" rows="4"></ion-textarea>
    </ion-item>

    <ion-item class="img-wrap" text-center>
      <div>
        <img class="attachment" [src]="imgSrc" *ngIf="!!imgSrc">
        <button class="clear" ion-button color="dark" clear icon-only *ngIf="!!imgSrc" (click)="clearImg()">
          <ion-icon name='close' is-active="false"></ion-icon>
        </button>
      </div>
    </ion-item>

    <p>
      <ion-buttons>
        <button ion-button outline icon-start (tap)="takePicture($event)">
          <ion-icon name='camera'></ion-icon>
          Camera
        </button>
        <button ion-button outline icon-start (tap)="selectFile($event)">
          <ion-icon name='image'></ion-icon>
          Image
        </button>
        <button ion-button float-right type="submit" [disabled]="!editEntryForm.valid">
          Edit Entry
        </button>
      </ion-buttons>
    </p>
  </form>
</ion-content>